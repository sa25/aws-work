https://numb86-tech.hatenablog.com/entry/2020/08/04/223754

localhost の https 化。
Let's Encrypt を certbot で利用する
dns-01 という方法で 「Let's Encrypt」にチャレンジを行う

sudo certbot certonly --manual -d localhost.today-is-a-sunny-day.com --preferred-challenges dns-01

認証が完了すると、以下のフォルダに認証系のファイルが作成される。
---
% sudo ls /etc/letsencrypt/live/localhost.today-is-a-sunny-day.com/
Password:
README		cert.pem	chain.pem	fullchain.pem	privkey.pem
---

「cert.pem」と「privkey.pem」に権限を付与させる
あとはこちらを利用して Flask でこちらの証明書を利用して HTTPS でサーバーを起動する。


#id_token=
eyJraWQiOiJVN1BCZWp1ZythdHFSQlUyanlCN21YNFEzOVBoYk5HdGlrYWFkNHFnMmhBPSIsImFsZyI6IlJTMjU2In0.eyJhdF9oYXNoIjoibXA1dnVlYkZwcUFZS1VDVGJZdTBfQSIsInN1YiI6IjFkY2I5NzEzLTE5YWEtNDI3Zi1iMDVhLTg1YTZhYWE2MmM5YyIsImF1ZCI6IjJoZ3U0b2lzbzRlMjgwMjU4ZDU2am5qZzIzIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImV2ZW50X2lkIjoiYjk5YjcyYmEtOTYzMS00OTg2LTgxOGYtNDNiOGZmZjUyYjM5IiwidG9rZW5fdXNlIjoiaWQiLCJhdXRoX3RpbWUiOjE2MTE0NDkyNjAsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5hcC1ub3J0aGVhc3QtMS5hbWF6b25hd3MuY29tXC9hcC1ub3J0aGVhc3QtMV9JNmVjdG5OUUsiLCJjb2duaXRvOnVzZXJuYW1lIjoic2Fzc2EiLCJleHAiOjE2MTE1MzU2NjAsImlhdCI6MTYxMTQ0OTI2MCwiZW1haWwiOiJhZXlhMjMxNUBnbWFpbC5jb20ifQ.N6qzxsqF3lxNddo26OvprNcnAoUZlkdMFM-1lKiVix4X3lnCNHjSdfLqz6gx4SfneXqg-jf-59fgDktzPDlyiemQqZeA6XhEBEctC-t2TuPOTVsgQV8ldxzyNYqkTOTUc221FNYZP7D1NajxCx2IT4OeOWZexW0Qt8uLK14irYLUHFBCKM8tdshb9v8TocK2lkmzAHmqp7suhXCFAe9S5dwk1HUh0EQk9XlCph9NZQVEbHw-mS-h5VoMy4LaliR6LYWno1NhigTpilZthuCcEzVI2P1YjGSC6P2y8aKtuwlDXTWWK0RXX_z4EaMAD8KYYXL9LWJbEPuQSTbWkjoJ5w

access_token=
eyJraWQiOiJpRVhOekM2Q2Q2XC9yWGF6TjM1dEhFdWpwZ053a2VENGNKbDVVcmJETStMOD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIxZGNiOTcxMy0xOWFhLTQyN2YtYjA1YS04NWE2YWFhNjJjOWMiLCJldmVudF9pZCI6ImI5OWI3MmJhLTk2MzEtNDk4Ni04MThmLTQzYjhmZmY1MmIzOSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoib3BlbmlkIiwiYXV0aF90aW1lIjoxNjExNDQ5MjYwLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuYXAtbm9ydGhlYXN0LTEuYW1hem9uYXdzLmNvbVwvYXAtbm9ydGhlYXN0LTFfSTZlY3RuTlFLIiwiZXhwIjoxNjExNTM1NjYwLCJpYXQiOjE2MTE0NDkyNjAsInZlcnNpb24iOjIsImp0aSI6ImVlYzA0ZWNkLTA0OTgtNGEyMC04NzBjLWI0MDg3YjQ3OTY2ZCIsImNsaWVudF9pZCI6IjJoZ3U0b2lzbzRlMjgwMjU4ZDU2am5qZzIzIiwidXNlcm5hbWUiOiJzYXNzYSJ9.b6MAEdKpwWjm3zTYAX4mq8MRbXkR12PR3-E3ByVoqVG4rL3fzmY-avYYxHGtFsH7E1LEh8XmYEH69pK-8DRwZi-YrY7UE2S4gebTos-v0rW8TkYggTI1pa_P-aCtJkkkjxg1olIa9HojA8zIU3-t9JqLFcH-5YYo8ctq04LBD8pJ5bU58yLmPK9oFBjstfHDS-OrHsISGVy-A7aDaO9_lsj_Zc-ngnulUEGz8jY9AsImfbkirUvhW4QWORQHYd-GeexZfN5a1xO0JwoWogydp16VZSnvsYARc_n2SLaJnfwo6aRqGKEWHGiEQZczmpQ6Fx5hDuvspEutgVH-fxfGRg


CognitoIdentityServiceProvider.17f1uj9lsj8d2h0u8rdjbmknjl.LastAuthUser: "sassa"
CognitoIdentityServiceProvider.17f1uj9lsj8d2h0u8rdjbmknjl.sassa.accessToken: "eyJraWQiOiJkWmxRcG9QaEVBZzE5Njk2dDBQWjBWQzlEdUhOU2Rwbkd6U2FuZmxpSWhnPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIzMmQ1Y2M5OS01ZjdmLTQ1ZWQtOWZjOC0yNmFmOGU1NDdiZGUiLCJldmVudF9pZCI6IjFiZGI4MzkxLTkxZTYtNDZiMi04ZTZkLTcyODk5MzlkZjE2MCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MDUzNjQ1MjUsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5hcC1ub3J0aGVhc3QtMS5hbWF6b25hd3MuY29tXC9hcC1ub3J0aGVhc3QtMV92NmFWS2pXS20iLCJleHAiOjE2MDUzNjgxMjUsImlhdCI6MTYwNTM2NDUyNSwianRpIjoiNTQxNjM3MjAtYzUxMS00MzlmLWFmODctZjJjYTNjNTYyMTM0IiwiY2xpZW50X2lkIjoiMTdmMXVqOWxzajhkMmgwdThyZGpibWtuamwiLCJ1c2VybmFtZSI6InNhc3NhIn0.AXjF79deB90x-uUreq-vu3ZSvj2cDiqgDsQZwByWDydbqXNVHKHz69hVNdOErtrflRt7Ftw9RkbUHZseW53Kgskg1F9lmIP47NvaOep7M5EN5iKtjOUKGNZ9ukQYd2rHc08mUA1t4XDV0qwIcWJg3QO16i_RWD4mbHLtGKpNHQa2eT-5FDazJcqskkuqWRqc4vPTMs7Jv57js_n2BJe6VVIL0TojbZF74a9B0MLNRLu4SrYB_c69vJaF0ZWdNGXbNpPeDYknFJHg55uzE1dnZguKw6hOknqitcondM23KkO65Q6L727ymI0ILoilYmVY3sFSCcUnWCiglfz8o2Wk9Q"
CognitoIdentityServiceProvider.17f1uj9lsj8d2h0u8rdjbmknjl.sassa.clockDrift: "0"
CognitoIdentityServiceProvider.17f1uj9lsj8d2h0u8rdjbmknjl.sassa.idToken: "eyJraWQiOiJXQlZ1bFMzY3YxUmJRMnZzNUpcL2xwcEtCZUdNK2dNbktyUERJb1A4SmdRTT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzMmQ1Y2M5OS01ZjdmLTQ1ZWQtOWZjOC0yNmFmOGU1NDdiZGUiLCJhdWQiOiIxN2YxdWo5bHNqOGQyaDB1OHJkamJta25qbCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFiZGI4MzkxLTkxZTYtNDZiMi04ZTZkLTcyODk5MzlkZjE2MCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjA1MzY0NTI1LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuYXAtbm9ydGhlYXN0LTEuYW1hem9uYXdzLmNvbVwvYXAtbm9ydGhlYXN0LTFfdjZhVktqV0ttIiwiY29nbml0bzp1c2VybmFtZSI6InNhc3NhIiwiZXhwIjoxNjA1MzY4MTI1LCJpYXQiOjE2MDUzNjQ1MjUsImVtYWlsIjoiYWV5YTIzMTVAZ21haWwuY29tIn0.VFFyRd5KuQWwWrUMeahHJgIZdlib9MK9g1lr-vgJB0blb7RWLAtmkYSFso7_OoWAtBJyHs911-JTQ-zQX8JoNW4dgz3ONKYBJ9p-OZofyjJVdvDUzZ9-DnISM6XwY8bfO4PztPlBy18ItNyFll3avO-fX9JFesEeGz6VSsBxdvRyzaVZZfDOJDyt98jLT28kuZaHFD2swB5ion__Ar5Ir633iiLqIEtnvOSsXEOaKDq7Ovxbi44FyHGalfmjWDXZdajQPsJpyaSGgjimmsMxvqBBLAog4gg2XbqabqVX7CLBdjVVhEr45QQH000Nmfdx_10LvRyftTFC6ShP-tKR1g"
CognitoIdentityServiceProvider.17f1uj9lsj8d2h0u8rdjbmknjl.sassa.refreshToken: "eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.j_zJ2dxVMUF5kS0BIDp90fsbadawOcZgZWYjobn8MDBppuWleZrOeBsJNUteypGKOWp_we_kzK-lNrn3J6_Xqb6JRnExCs4MtoLVQiT4ALVikmwPZ2w-LGASyQst4dhIdx1EWCBDR2AG4PV69WiyvUsX69CciblRzTyrhHWUvvbdRxaWs-8SQBVusWm_6d-QLYCRmcKwBp_XmwI2p1_-b4z37Ft-miZDTsuZ1wJI922RrVouPMHZjfnhHS_vjJ46TJwTMI7TVH_12-P4w0F2TxAw35c_aFGSlW-5XgZbbrb5VwvHpIaxMawF807gIilyQgssbal5iE_-8azn7xP7qQ.XgQHYCZYNky4wMS2.ULwAmDnEuLynsR5R5gtnJ1N2sghKcNgK9tQD0JfWomiUgyKBRmgltP63c7oqM9Z8JETXRLgjhrTDJKfHRO63EL9NxeCVbNvKSE9uFpLklr_q8EsEpDW6yC7F-KcJ3xpBzrYleafC2lc338aRWLBXfbuMIpQt86sfRIXK0LXxpv0sLYLgM3S2pwHAAdTudHwmZ-K9tOnDg761ETpRgbOzrglGx_0OtoI6kidWNav2o5M743cH3qqEIpOyhjYATS0Xb_5rQoNZ5y5lqVL9ppiFI-PqY7R2WIcfASIXLb5P_L1PF1Xol0xybZ_0JN-lgvJYbPnZufswPE9qsAvqoWR1YIuwyjMp0bmkxBXqAmpvRHsPl1tBCkLK91CG4KPVBQqq61i0VIg118kiLTVv2BQa4D5fH1If4LGK7GeZQds1jbkwYqO-RSQeNLmXEw7V6tY8msIb9dEVvWrZFbFTz8FC9OvJYoQJ71ODtddLMjlxnpZKllRRok0WWvFVM37qb9vNvQ2FbA7Saj45iHclNItfiDM7cpdzqwTrGgZit8DdKAHlFIKuTCxikdTCrvlCAiTFcvLR9HBP7bNJzxcNpI4Nhajl2rfJ595wo-3XBRDG66O-YCj-X49CZSUzOVa89kXBxu5Pq04-4r4ZsOS4ASafJBLLWr3iG1VBn5pvYPsbmUAq1mPu_-e7dZisXJVgBteeent0J7eEs4VYCiO77_JesNOA-WuT8XMQOGTbsml5mCPW81R3ABk3-QlqyTcBPA6Ln6YvxbJusXQ6wIlSuPoR8z2hwKgvMFrXPZU6R9XBr5Zb5O5nDYF6YB0lFk0uTfVX5DHMqc9pk9VCzBUeW6JYMt8WadJGpyAjXgxoFbOvrMQrVH4Yj2ejDKaTHNTP7No9KEYDUAWzFQp647SQZon50sEqJkD3duw4hUuarsCT9EUZ_ASB3VhkLQ1GnHdtaHRdSmEro1V29d5mQ7YmBzVbrsg4y-tngufxS2fa7fbMHKwmfuuOeZ15dqgBlVOSrIUElc2T9LEL7xaB9riBJwBdjJeILNKsSy8HX4D3To2C9NmFpXrkhnzMnhSsQ5NQhg8b6DCqW4lrctOVQVMoUS5yYMJQIezc7x26Hkwmyo2wy7qJ-S9DWEoSVIxGzPZ-JjDHSLfAHipJ-NJmdiczVgEbLuiKfSkJ0IqBj9u13IqeG-YJSqymEU8jZdfggGDqj9UYCmUF0HJlyVxF4wgV13-9Dvg8i82SutMNAR1ycWdEo9Cdc9xf7fps5uJ-QOlsfmT7Qc5gXjrn4o0Ws_5TLlfI.vyTO05X0JewPrM3tYxfifg"
CognitoIdentityServiceProvider.17f1uj9lsj8d2h0u8rdjbmknjl.sassa.userData: "{"UserAttributes":[{"Name":"sub","Value":"32d5


localhost を HTTPS 化する
https://numb86-tech.hatenablog.com/entry/2020/08/04/223754

Let's Encrypt を certbot で利用する
dns-01 という方法で 「Let's Encrypt」にチャレンジを行う

cognito でログイン画面を作成
https://qiita.com/TKFM21/items/272f1c7be11ea274a4ee

cognito 関連の sdk は以下からダウンロード
https://raw.githubusercontent.com/amazon-archives/amazon-cognito-identity-js/master/dist/amazon-cognito-identity.min.js
https://raw.githubusercontent.com/amazon-archives/amazon-cognito-identity-js/master/dist/aws-cognito-sdk.min.js
